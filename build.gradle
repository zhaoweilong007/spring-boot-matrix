buildscript {
    ext {
        springBootVersion = '2.5.4'
    }
    repositories {
        //本地仓库
        mavenLocal()
        //阿里云
        maven {
            url 'https://maven.aliyun.com/nexus/content/groups/public/'
        }
        //中央仓库
        mavenCentral()
        //gradle插件
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
    }
}

plugins {
    id 'java'
    id 'org.springframework.boot' version '2.5.4' apply false
    id 'io.spring.dependency-management' version '1.0.11.RELEASE' apply false
}

//所有项目配置
allprojects {
    group = 'com.zwl'
    version = '0.0.1-SNAPSHOT'

    compileJava {
        sourceCompatibility = JavaVersion.VERSION_11
        targetCompatibility = JavaVersion.VERSION_11
        options.encoding = 'UTF-8'
    }

    repositories {
        //本地仓库
        mavenLocal()
        //阿里云
        maven {
            url 'https://maven.aliyun.com/nexus/content/groups/public/'
        }
        //中央仓库
        mavenCentral()
        //gradle插件
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }

}

// 版本号
ext {
    hutoolVersion = '5.7.11'
    guavaVersion = '30.1.1-jre'
    gsonVersion = '2.8.8'
    fastjsonVersion = '1.2.78'
    lonbokVersion = '1.18.20'
    mybatisPlusVersion = '3.3.1.tmp'
    druidVersion = '1.1.20'
    dynamicDatasource = '3.0.0'
    commonsMath3Version = '3.6.1'
    springWebVersion = '2.5.4'
}

//子模块配置
subprojects {
    apply plugin: 'idea'
    apply plugin: 'java'
    apply plugin: 'io.spring.dependency-management'

    dependencyManagement {
        dependencies {
            dependency "org.springframework.boot:spring-boot-starter-web:${springWebVersion}"
            dependency "net.devh:grpc-client-spring-boot-starter:2.12.0.RELEASE"
            dependency "org.apache.dubbo:dubbo-spring-boot-starter:2.7.8"
            dependency "com.baomidou:mybatis-plus-boot-starter:${mybatisPlusVersion}"
            dependency "com.baomidou:dynamic-datasource-spring-boot-starter:${dynamicDatasource}"
            dependency "com.alibaba:druid:${druidVersion}"
            dependency "org.apache.commons:commons-math3:${commonsMath3Version}"
        }
    }

    dependencies {
        implementation "cn.hutool:hutool-all:${hutoolVersion}"
        implementation "com.google.guava:guava:${guavaVersion}"
        implementation "com.google.code.gson:gson:${gsonVersion}"
        implementation "com.alibaba:fastjson:${fastjsonVersion}"
        compileOnly "org.projectlombok:lombok:${lonbokVersion}"
        annotationProcessor "org.projectlombok:lombok:${lonbokVersion}"
    }
}









